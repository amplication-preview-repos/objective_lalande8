datasource db {
  provider = "postgresql"
  url      = env("DB_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Property {
  address           String?
  city              String?
  createdAt         DateTime               @default(now())
  description       String?
  id                String                 @id @default(cuid())
  listings          Listing[]
  lotSize           Float?
  numberOfBathrooms Int?
  numberOfBedrooms  Int?
  price             Float?
  squareFootage     Int?
  state             String?
  title             String?
  typeField         EnumPropertyTypeField?
  updatedAt         DateTime               @updatedAt
  zipCode           String?
}

model Listing {
  createdAt    DateTime           @default(now())
  id           String             @id @default(cuid())
  listingDate  DateTime?
  price        Float?
  property     Property?          @relation(fields: [propertyId], references: [id])
  propertyId   String?
  status       EnumListingStatus?
  transactions Transaction[]
  updatedAt    DateTime           @updatedAt
  user         User?              @relation(fields: [userId], references: [id])
  userId       String?
}

model Transaction {
  buyer           String?
  createdAt       DateTime               @default(now())
  id              String                 @id @default(cuid())
  listing         Listing?               @relation(fields: [listingId], references: [id])
  listingId       String?
  price           Float?
  seller          String?
  status          EnumTransactionStatus?
  transactionDate DateTime?
  updatedAt       DateTime               @updatedAt
}

model User {
  createdAt DateTime  @default(now())
  email     String?   @unique
  firstName String?
  id        String    @id @default(cuid())
  lastName  String?
  listings  Listing[]
  password  String
  roles     Json
  updatedAt DateTime  @updatedAt
  username  String    @unique
}

enum EnumPropertyTypeField {
  Option1
}

enum EnumListingStatus {
  Option1
}

enum EnumTransactionStatus {
  Option1
}
